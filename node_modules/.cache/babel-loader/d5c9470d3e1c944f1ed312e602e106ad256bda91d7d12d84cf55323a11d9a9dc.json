{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\denis\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F\\\\my-app\\\\src\\\\components\\\\Tariffs.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport '../Styles/Tariffs.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Tariffs() {\n  _s();\n  var _location$state;\n  const [tariffs, setTariffs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const location = useLocation();\n  let clientType = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.clientType;\n\n  // Маппинг clientType для соответствия backend\n  if (clientType === 'juridical' || clientType === 'legal') {\n    clientType = 'corporate';\n  } else if (clientType !== 'individual') {\n    clientType = null;\n  }\n  useEffect(() => {\n    const fetchTariffs = async () => {\n      try {\n        let fetchUrl = 'http://localhost:8000/api/tariffs/';\n        if (clientType) {\n          fetchUrl += `?client_type=${clientType}`;\n        }\n        const response = await fetch(fetchUrl);\n        const data = await response.json();\n        setTariffs(data);\n      } catch (error) {\n        console.error('Error fetching tariffs:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTariffs();\n  }, [clientType]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0442\\u0430\\u0440\\u0438\\u0444\\u043E\\u0432...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tariffs-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: clientType === 'individual' ? 'Тарифы для физических лиц' : 'Тарифы для юридических лиц'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tariffs-grid\",\n      children: tariffs.map(tariff => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tariff-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: tariff.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"description\",\n          children: tariff.short_description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"price\",\n          children: [tariff.price, \" \\u20BD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/tariff/${tariff.id}`,\n          className: \"details-button\",\n          children: \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }, this)]\n      }, tariff.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 3\n  }, this);\n}\n_s(Tariffs, \"yc4hsFbXml4/ZsHLV7e2vOvLtZA=\", false, function () {\n  return [useLocation];\n});\n_c = Tariffs;\nexport default Tariffs;\nvar _c;\n$RefreshReg$(_c, \"Tariffs\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","Link","jsxDEV","_jsxDEV","Tariffs","_s","_location$state","tariffs","setTariffs","loading","setLoading","location","clientType","state","fetchTariffs","fetchUrl","response","fetch","data","json","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","tariff","name","short_description","price","to","id","_c","$RefreshReg$"],"sources":["C:/Users/denis/OneDrive/Документы/Курсовая/my-app/src/components/Tariffs.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useLocation, Link } from 'react-router-dom'\r\nimport '../Styles/Tariffs.css'\r\n\r\nfunction Tariffs() {\r\n\tconst [tariffs, setTariffs] = useState([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst location = useLocation()\r\n\tlet clientType = location.state?.clientType\r\n\r\n\t// Маппинг clientType для соответствия backend\r\n\tif (clientType === 'juridical' || clientType === 'legal') {\r\n\t\tclientType = 'corporate'\r\n\t} else if (clientType !== 'individual') {\r\n\t\tclientType = null\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchTariffs = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tlet fetchUrl = 'http://localhost:8000/api/tariffs/'\r\n\t\t\t\tif (clientType) {\r\n\t\t\t\t\tfetchUrl += `?client_type=${clientType}`\r\n\t\t\t\t}\r\n\t\t\t\tconst response = await fetch(fetchUrl)\r\n\t\t\t\tconst data = await response.json()\r\n\t\t\t\tsetTariffs(data)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error fetching tariffs:', error)\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfetchTariffs()\r\n\t}, [clientType])\r\n\r\n\tif (loading) return <div className='loading'>Загрузка тарифов...</div>\r\n\r\n\treturn (\r\n\t\t<div className='tariffs-page'>\r\n\t\t\t<h1>\r\n\t\t\t\t{clientType === 'individual'\r\n\t\t\t\t\t? 'Тарифы для физических лиц'\r\n\t\t\t\t\t: 'Тарифы для юридических лиц'}\r\n\t\t\t</h1>\r\n\r\n\t\t\t<div className='tariffs-grid'>\r\n\t\t\t\t{tariffs.map(tariff => (\r\n\t\t\t\t\t<div key={tariff.id} className='tariff-card'>\r\n\t\t\t\t\t\t<h2>{tariff.name}</h2>\r\n\t\t\t\t\t\t<p className='description'>{tariff.short_description}</p>\r\n\t\t\t\t\t\t<p className='price'>{tariff.price} ₽</p>\r\n\t\t\t\t\t\t<Link to={`/tariff/${tariff.id}`} className='details-button'>\r\n\t\t\t\t\t\t\tПодробнее\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Tariffs\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}