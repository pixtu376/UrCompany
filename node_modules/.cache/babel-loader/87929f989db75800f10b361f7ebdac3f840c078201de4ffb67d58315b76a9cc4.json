{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\denis\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F\\\\my-app\\\\src\\\\components\\\\TariffDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport '../Styles/TariffDetail.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TariffDetail() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [tariff, setTariff] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const {\n    user,\n    createOrder\n  } = useAuth();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchTariff = async () => {\n      try {\n        const response = await fetch(`/api/tariffs/${id}/`);\n        const data = await response.json();\n        setTariff(data);\n      } catch (error) {\n        console.error('Error fetching tariff:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTariff();\n  }, [id]);\n  const handleOrder = async () => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    const order = await createOrder(id);\n    if (order) {\n      navigate('/dashboard');\n    }\n  };\n  const handleBack = () => {\n    navigate('/tariffs');\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 22\n  }, this);\n  if (!tariff) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: \"\\u0422\\u0430\\u0440\\u0438\\u0444 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tariff-detail\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tariff-main-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"tariff-title\",\n        children: tariff.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"tariff-description\",\n        children: tariff.detailed_description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tariff-secondary-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tariff-info-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E\\u0431 \\u0443\\u0441\\u043B\\u0443\\u0433\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tariff.service_info || 'Информация отсутствует'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tariff.category || 'Не указана'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\u0422\\u0438\\u043F \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tariff.task_type || 'Не указан'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\u0424\\u043E\\u0440\\u043C\\u0430 \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tariff.payment_form || 'Не указана'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [tariff.price, \" \\u20BD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tariff-buttons-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: handleBack,\n          children: \"\\u041E\\u0431\\u0440\\u0430\\u0442\\u043D\\u043E \\u043A \\u0432\\u0441\\u0435\\u043C \\u0443\\u0441\\u043B\\u0443\\u0433\\u0430\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"order-button\",\n          onClick: handleOrder,\n          children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }, this);\n}\n_s(TariffDetail, \"Wj+Y1glqMM9bDed91kboNTEHJjc=\", false, function () {\n  return [useParams, useAuth, useNavigate];\n});\n_c = TariffDetail;\nexport default TariffDetail;\nvar _c;\n$RefreshReg$(_c, \"TariffDetail\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","useAuth","jsxDEV","_jsxDEV","TariffDetail","_s","id","tariff","setTariff","loading","setLoading","user","createOrder","navigate","fetchTariff","response","fetch","data","json","error","console","handleOrder","order","handleBack","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","detailed_description","service_info","category","task_type","payment_form","price","onClick","_c","$RefreshReg$"],"sources":["C:/Users/denis/OneDrive/Документы/Курсовая/my-app/src/components/TariffDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport '../Styles/TariffDetail.css'\r\n\r\nfunction TariffDetail() {\r\n\tconst { id } = useParams()\r\n\tconst [tariff, setTariff] = useState(null)\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst { user, createOrder } = useAuth()\r\n\tconst navigate = useNavigate()\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchTariff = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(`/api/tariffs/${id}/`)\r\n\t\t\t\tconst data = await response.json()\r\n\t\t\t\tsetTariff(data)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error fetching tariff:', error)\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetchTariff()\r\n\t}, [id])\r\n\r\n\tconst handleOrder = async () => {\r\n\t\tif (!user) {\r\n\t\t\tnavigate('/login')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst order = await createOrder(id)\r\n\t\tif (order) {\r\n\t\t\tnavigate('/dashboard')\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleBack = () => {\r\n\t\tnavigate('/tariffs')\r\n\t}\r\n\r\n\tif (loading) return <div className='loading'>Загрузка...</div>\r\n\tif (!tariff) return <div className='error'>Тариф не найден</div>\r\n\r\n\treturn (\r\n\t\t<div className='tariff-detail'>\r\n\t\t\t<div className='tariff-main-block'>\r\n\t\t\t\t<h1 className='tariff-title'>{tariff.name}</h1>\r\n\t\t\t\t<p className='tariff-description'>{tariff.detailed_description}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className='tariff-secondary-block'>\r\n\t\t\t\t<div className='tariff-info-block'>\r\n\t\t\t\t\t<h2 className='section-title'>Информация об услуге</h2>\r\n\t\t\t\t\t<p>{tariff.service_info || 'Информация отсутствует'}</p>\r\n\r\n\t\t\t\t\t<h2 className='section-title'>Категория</h2>\r\n\t\t\t\t\t<p>{tariff.category || 'Не указана'}</p>\r\n\r\n\t\t\t\t\t<h2 className='section-title'>Тип задачи</h2>\r\n\t\t\t\t\t<p>{tariff.task_type || 'Не указан'}</p>\r\n\r\n\t\t\t\t\t<h2 className='section-title'>Форма оплаты</h2>\r\n\t\t\t\t\t<p>{tariff.payment_form || 'Не указана'}</p>\r\n\r\n\t\t\t\t\t<h2 className='section-title'>Стоимость</h2>\r\n\t\t\t\t\t<p>{tariff.price} ₽</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='tariff-buttons-block'>\r\n\t\t\t\t\t<button className='back-button' onClick={handleBack}>\r\n\t\t\t\t\t\tОбратно к всем услугам\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className='order-button' onClick={handleOrder}>\r\n\t\t\t\t\t\tОформить заказ\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TariffDetail\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}