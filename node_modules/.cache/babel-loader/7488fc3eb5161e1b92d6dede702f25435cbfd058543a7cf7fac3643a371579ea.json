{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\denis\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\\\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F\\\\my-app\\\\src\\\\components\\\\TariffDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport '../Styles/TariffDetail.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TariffDetail() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [tariff, setTariff] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const {\n    user,\n    createOrder\n  } = useAuth();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchTariff = async () => {\n      try {\n        const response = await fetch(`/api/tariffs/${id}/`);\n        const data = await response.json();\n        setTariff(data);\n      } catch (error) {\n        console.error('Error fetching tariff:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTariff();\n  }, [id]);\n  const handleOrder = async () => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    const order = await createOrder(id);\n    if (order) {\n      navigate('/dashboard');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 22\n  }, this);\n  if (!tariff) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: \"\\u0422\\u0430\\u0440\\u0438\\u0444 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tariff-detail\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: tariff.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tariff-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tariff-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tariff.detailed_description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0425\\u0430\\u0440\\u0430\\u043A\\u0442\\u0435\\u0440\\u0438\\u0441\\u0442\\u0438\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0422\\u0438\\u043F \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 8\n            }, this), ' ', tariff.client_type === 'individual' ? 'Физическое лицо' : 'Юридическое лицо']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0426\\u0435\\u043D\\u0430:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 8\n            }, this), \" \", tariff.price, \" \\u20BD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleOrder,\n          className: \"order-button\",\n          children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 3\n  }, this);\n}\n_s(TariffDetail, \"Wj+Y1glqMM9bDed91kboNTEHJjc=\", false, function () {\n  return [useParams, useAuth, useNavigate];\n});\n_c = TariffDetail;\nexport default TariffDetail;\nvar _c;\n$RefreshReg$(_c, \"TariffDetail\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","useAuth","jsxDEV","_jsxDEV","TariffDetail","_s","id","tariff","setTariff","loading","setLoading","user","createOrder","navigate","fetchTariff","response","fetch","data","json","error","console","handleOrder","order","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","detailed_description","client_type","price","onClick","_c","$RefreshReg$"],"sources":["C:/Users/denis/OneDrive/Документы/Курсовая/my-app/src/components/TariffDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport '../Styles/TariffDetail.css'\r\n\r\nfunction TariffDetail() {\r\n\tconst { id } = useParams()\r\n\tconst [tariff, setTariff] = useState(null)\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst { user, createOrder } = useAuth()\r\n\tconst navigate = useNavigate()\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchTariff = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(`/api/tariffs/${id}/`)\r\n\t\t\t\tconst data = await response.json()\r\n\t\t\t\tsetTariff(data)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error fetching tariff:', error)\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetchTariff()\r\n\t}, [id])\r\n\r\n\tconst handleOrder = async () => {\r\n\t\tif (!user) {\r\n\t\t\tnavigate('/login')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst order = await createOrder(id)\r\n\t\tif (order) {\r\n\t\t\tnavigate('/dashboard')\r\n\t\t}\r\n\t}\r\n\r\n\tif (loading) return <div className='loading'>Загрузка...</div>\r\n\tif (!tariff) return <div className='error'>Тариф не найден</div>\r\n\r\n\treturn (\r\n\t\t<div className='tariff-detail'>\r\n\t\t\t<h1>{tariff.name}</h1>\r\n\t\t\t<div className='tariff-content'>\r\n\t\t\t\t<div className='tariff-info'>\r\n\t\t\t\t\t<h2>Описание</h2>\r\n\t\t\t\t\t<p>{tariff.detailed_description}</p>\r\n\r\n\t\t\t\t\t<h2>Характеристики</h2>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<strong>Тип клиента:</strong>{' '}\r\n\t\t\t\t\t\t\t{tariff.client_type === 'individual'\r\n\t\t\t\t\t\t\t\t? 'Физическое лицо'\r\n\t\t\t\t\t\t\t\t: 'Юридическое лицо'}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<strong>Цена:</strong> {tariff.price} ₽\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t<button onClick={handleOrder} className='order-button'>\r\n\t\t\t\t\t\tОформить заказ\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TariffDetail\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}